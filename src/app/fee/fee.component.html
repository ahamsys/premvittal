<p-toast></p-toast>
<p-toolbar>
        <div class="p-toolbar-group-right">
            <button (click)="onCancel()" pButton pRipple type="button" label="Home" icon="pi pi-home" class="p-button-raised p-button-info"></button>
        </div>
</p-toolbar>  
<p-card>
    <form [formGroup]="form" >
        <div class="grid p-fluid">
            <div class="field col-12 md:col-4">
                <h3>{{name}}</h3>
            </div>
        </div>
        <div class="grid p-fluid">
            <div class="field col-12 md:col-4">
                <label for="amount">Fee Amount</label>
                <input type="text" pInputText class="p-inputtext-sm"  formControlName="amount" placeholder="Amount" optionLabel="name">
            </div>
            <div class="field col-12 md:col-4">
                <label for="datepaid">Date</label>
                <p-calendar formControlName="datepaid" styleClass="p-datepicker-touch-p" inputId="date"></p-calendar>
            </div>
            <div class="field col-12 md:col-4">
                <label for="feemonth">Fee Month</label>
                <p-calendar formControlName="feemonth" view="month" dateFormat="mm/yy" [readonlyInput]="true" inputId="monthpicker"></p-calendar>
            </div>
            <div class="field col-12 md:col-4">
                <label for="feemonth">Notes</label>
                <input type="text" pInputText class="p-inputtext-sm"  formControlName="notes" placeholder="Notes" optionLabel="name">
            </div>
            </div>
    </form>
    <div class="grid">
        <div class="col-6">
            <button (click)="onFeePaid()" pButton pRipple type="button" label="Save" icon="pi pi-save" class="p-button-raised p-button-success"></button>
            </div>
        <div class="col-6">
            <button class="m-3" (click)="onCancel()" pButton pRipple type="button" label="Close" icon="pi pi-times" class="p-button-raised p-button-warning"></button>
        </div>
    </div>
</p-card>
<div class="card">
    <h5>Fee Payment History</h5>
<p-table [value]="fees" responsiveLayout="scroll">
    <ng-template pTemplate="header">
        <tr>
            <th pSortableColumn="datepaid">Date<p-sortIcon field="datepaid"></p-sortIcon></th>            
            <th pSortableColumn="amount">Amount<p-sortIcon field="amount"></p-sortIcon></th>            
            <th pSortableColumn="month">Month<p-sortIcon field="feemonth"></p-sortIcon></th>            
            <th pSortableColumn="notes">Notes<p-sortIcon field="notes"></p-sortIcon></th>            
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-fee>
        <tr>
            <td>{{fee.datepaid  | date:'mediumDate' }}</td>
            <td>{{fee.amount}}</td>
            <td>{{fee.feemonth}}</td>
            <td>{{fee.notes}}</td>
        </tr>
    </ng-template>
</p-table>
</div>